<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Register</title>
</head>
<body>
	<form action="{{url_for('register')}}" method="post" id="registerform">
		username <input type="text" name="username" id="uname"> <br>
		password <input type="password" name="password0" id="pw0"> <br>
		confirm password <input type="password" name="password1" id="pw1"> <br>
		<button type="submit"> SUBMIT</button>
	</form>


	<!-- <button id="submit">register</button> <br><br> -->

	<div id="passwordnomatch" style="display: none;">password's don't match!</div>
	<div id="unamesamepassword" style="display: none;">username can't be the same as password!</div>

	<script src="https://code.jquery.com/jquery-3.5.1.min.js"
		integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous">
	</script>

	<script>
		$(document).ready(function () {
			$("form").submit(function (event) {
				if ($("#pw0").val() !== $("#uname").val()) {
					if ($("#pw0").val() === $("#pw1").val()) {
						console.log($(this).serializeArray());
						$.post("{{url_for('registerauth')}}", $(this).serialize());
					}
					else {
						console.log("they dont match fool");
						$("#passwordnomatch").css("display", "inline");
						$("#unamesamepassword").css("display", "none");
					}
				}
				else {
					$("#passwordnomatch").css("display", "none");
					$("#unamesamepassword").css("display", "inline");
				}
				
				event.preventDefault();

			});
		});
	</script>
</body>
</html>